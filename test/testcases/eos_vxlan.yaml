---
module: eos_vxlan
path: ./library
hostsfile: test/fixtures/hosts

variables:
  config: test/fixtures/dut.conf

testcases:

  - name: create Vxlan1 interface
    args:
      state: present
      config: $config
      connection: $dut_name
    test: create
    setup:
      - no interface Vxlan1

  - name: remove Vxlan1 interface
    args:
      state: absent
      config: $config
      connection: $dut_name
    test: remove
    setup:
      - interface Vxlan1

  - name: set Vxlan1 source_interface=Loopback0
    args:
      name: Vxlan1
      source_interface: Loopback0
      config: $config
      connection: $dut_name
    setup:
      - interface Loopback0
      - interface Vxlan1

  - name: set Vxlan1 multicast_group=239.10.10.10
    args:
      name: Vxlan1
      multicast_group: 239.10.10.10
      config: $config
      connection: $dut_name
    setup:
      - interface Loopback0
      - interface Vxlan1

