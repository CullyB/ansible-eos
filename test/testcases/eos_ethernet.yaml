---
module: eos_ethernet
path: ./library
hostsfile: test/fixtures/hosts

variables:
  config: test/fixtures/dut.conf

testcases:

  - name: set Ethernet1 description=foo
    args:
      name: Ethernet1
      description: foo
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
 
  - name: set Ethernet1 enable=True
    args:
      name: Ethernet1
      enable: true
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
      - interface Ethernet1
      - shutdown

  - name: set Ethernet1 enable=false
    args:
      name: Ethernet1
      enable: false
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1

  - name: set Ethernet1 flowcontrol_send=on
    args:
      name: Ethernet1
      flowcontrol_send: 'on'
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1

  - name: set Ethernet1 flowcontrol_send=off
    args:
      name: Ethernet1
      flowcontrol_send: 'off' 
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
      - interface Ethernet1
      - flowcontrol send on 

  - name: set Ethernet1 flowcontrol_receive=on
    args:
      name: Ethernet1
      flowcontrol_receive: 'on' 
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1

  - name: set Ethernet1 flowcontrol_receive=off
    args:
      name: Ethernet1
      flowcontrol_receive: 'off'
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
      - interface Ethernet1
      - flowcontrol receive on

  - name: set Ethernet1 sflow=True
    args:
      name: Ethernet1
      sflow: true
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
      - interface Ethernet1
      - no sflow enable

  - name: set Ethernet1 sflow=false
    args:
      name: Ethernet1
      sflow: false
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1





