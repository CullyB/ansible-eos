---
module: eos_interface
path: ./library
hostsfile: test/fixtures/hosts

variables:
  config: test/fixtures/dut.conf

testcases:

  - name: create Loopback0 interface
    args:
      name: Loopback0
      state: present
      config: $config
      connection: $dut_name
    test: create
    setup:
      - no interface Loopback0

  - name: delete Loopback0 interface
    args:
      name: Loopback0
      state: absent
      config: $config
      connection: $dut_name
    test: remove
    setup:
      - interface Loopback0
 
  - name: set Ethernet1 description=foo
    args:
      name: Ethernet1
      description: foo
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
 
  - name: set Ethernet1 enable=True
    args:
      name: Ethernet1
      enable: true
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
      - interface Ethernet1
      - shutdown

  - name: set Ethernet1 enable=false
    args:
      name: Ethernet1
      enable: false
      config: $config
      connection: $dut_name
    setup:
      - default interface Ethernet1
